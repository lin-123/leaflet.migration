(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10,13],{"8jQa":function(t,e,i){!function(e,i){t.exports=i()}(window,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}({8:function(t,e,i){var r,s,n;s=[e],void 0===(n="function"==typeof(r=function(t){"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(t,i){var r=e(t,2),s=r[0],n=r[1],a=(i[1]-i[0])/(n-s);return function(t){return t<=s?i[0]:t>=n?i[1]:i[0]+(Math.min(n,t)-s)*a}}})?r.apply(e,s):r)||(t.exports=n)}})}))},G3cz:function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}i.r(e),i.d(e,"default",(function(){return n}))},tjUo:function(t,e,i){"use strict";i.r(e);var r=i("G3cz");function s(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}function n(t,e){if(null==t)return{};var i,r,n=s(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var a=i("iojd"),o=i("8jQa"),h=i.n(o),l=1.5,c=3,d={minRadius:5,arcWidth:1,label:!0,marker:"arrow"},u=12;function p(t,e){var i=t=>t*t;return Math.sqrt(i(t)+i(e))}function v(t,e){var i,r;return t.forEach((t=>{var s=e(t);void 0===i?(r=s,i=s):(i>s&&(i=s),r<s&&(r=s))})),[i,r]}function f(t){return Object.prototype.toString.call(t).slice(8,-1)}class g{constructor(t){var e=t.startX,i=t.startY,r=t.endX,s=t.endY,n=t.width,a=t.color,o=void 0===a?"#fff":a,h=p(e-r,i-s),c=(e+r)/2,d=(i+s)/2,u=(i-s)*l+c,v=(r-e)*l+d,f=p(h/2,h*l),g=Math.atan2(i-v,e-u),y=Math.atan2(s-v,r-u);Object.assign(this,{startX:e,startY:i,endX:r,endY:s,centerX:u,centerY:v,startAngle:g,endAngle:y,radius:f,color:o,lineWidth:n||1})}draw(){}}var y=g;class b extends y{constructor(t){super(t);var e=t.labels,i=t.font,r=t.label;Object.assign(this,{font:i,label:r,labels:e})}draw(t){if(Object.assign(t,{lineWidth:this.lineWidth,strokeStyle:this.color,fillStyle:this.strokeStyle}),t.beginPath(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,!1),t.stroke(),this.label){var e=Object(a["default"])(this.labels,2),i=e[0],r=e[1];if(Object.assign(t,{font:this.font}),i){var s=this.startX-15,n=this.startY+5;t.fillText(i,s,n)}if(r){var o=this.endX-15,h=this.endY-5;t.fillText(r,o,h)}}}}var m=b;class w{init(t){var e=t.container;this.container=e,this.setMapPosi(),window.addEventListener("scroll",(()=>{this.setMapPosi()}))}setMapPosi(){this.mapPosi=this.container.getBoundingClientRect()}}var x=new w,O=[];class P{constructor(t){var e=t.x,i=t.y,r=t.container,s=t.data,n=t.index,a=t.popover,o=t.radius,h=s.color,l=s.value,c=s.labels,d=o;Object.assign(this,{x:e,y:i,color:h,container:r,value:l,labels:c,r:d,scale:1}),this.showPopover=t=>{var e=x.mapPosi,i=e.top,r=e.left,o=t.clientX,h=t.clientY;a.show(o-r,h-i,s,n)},this.hidePopover=()=>a.hide(s,n),this.initDom()}clear(){O.push(this.pulse),this.pulse.removeEventListener("mouseover",this.showPopover),this.pulse.removeEventListener("mouseout",this.hidePopover),this.container.removeChild(this.pulse)}initDom(){if(O.length>0){this.pulse=O.pop();var t=Object(a["default"])(this.pulse.children,1);this.ring=t[0]}else this.pulse=document.createElement("div"),this.ring=document.createElement("div"),this.pulse.appendChild(this.ring);var e=this.x,i=this.y,r=this.r,s=this.color,n=this.pulse,o=this.ring;Object.assign(n.style,{position:"absolute",zIndex:"1",borderRadius:"50%",width:"".concat(2*r,"px"),height:"".concat(2*r,"px"),left:"-".concat(r,"px"),top:"-".concat(r,"px"),background:s,transform:"translate(".concat(e,"px, ").concat(i,"px)")}),Object.assign(o.style,{position:"absolute",borderRadius:"50%",width:"".concat(2*r,"px"),height:"".concat(2*r,"px"),left:"".concat(-1,"px"),top:"".concat(-1,"px"),border:"1px solid ".concat(s)}),this.container.appendChild(n),this.pulse.addEventListener("mouseover",this.showPopover),this.pulse.addEventListener("mouseout",this.hidePopover)}draw(){var t=this.scale;Object.assign(this.ring.style,{transform:"scale(".concat(t,")")}),this.scale+=.02,t>2&&(this.scale=1)}}var j=P;class A{constructor(t){this.x=t.x,this.y=t.y,this.style=t.style,this.color=t.color,this.size=t.size,this.borderWidth=t.borderWidth,this.borderColor=t.borderColor}draw(t){t.translate(this.x,this.y),Object.assign(t,{lineWidth:this.borderWidth||0,strokeStyle:this.borderColor||"#000",fillStyle:this.color||"#000"}),t.beginPath(),"circle"===this.style?t.arc(0,0,this.size,0,2*Math.PI,!1):"arrow"===this.style&&(t.moveTo(-this.size,-this.size),t.lineTo(this.size,0),t.lineTo(-this.size,this.size),t.lineTo(-this.size/4,0),t.lineTo(-this.size,-this.size)),t.closePath(),t.stroke(),t.fill()}}var _=A;class S extends y{constructor(t){super(t),this.tailPointsCount=10,this.factor=2/this.radius,this.deltaAngle=80/Math.min(this.radius,400)/this.tailPointsCount,this.trailAngle=this.startAngle,this.arcAngle=this.startAngle,Math.abs(this.startAngle-this.endAngle)>Math.PI&&(this.endAngle+=2*Math.PI),this.marker=new _({x:50,y:80,rotation:50*Math.PI/180,style:"circle",color:"rgb(255, 255, 255)",size:3,borderWidth:0,borderColor:this.color})}drawArc(t,e,i,r,s){Object.assign(t,{lineWidth:i,strokeStyle:e,shadowColor:e,lineCap:"round"}),t.beginPath(),t.arc(this.centerX,this.centerY,this.radius,r,s,!1),t.stroke()}draw(t,e){var i=this.endAngle,r=this.trailAngle,s=this.factor,n=this.color,a=this.deltaAngle,o=r+s,h=n;this.animateBlur&&(this.arcAngle=o),this.trailAngle=o,t.beginPath(),this.drawArc(t,h,2*this.lineWidth,this.startAngle,this.arcAngle);for(var l=this.tailPointsCount,c=0;c<l;c++){var d=n,u=5;r-a*c>this.startAngle&&this.drawArc(t,d,u-u/l*c,r-a*c,r)}t.stroke(),t.save(),t.translate(this.centerX,this.centerY),this.marker.x=Math.cos(this.trailAngle)*this.radius,this.marker.y=Math.sin(this.trailAngle)*this.radius,this.marker.draw(t),t.restore(),!e&&180*(i-this.trailAngle)/Math.PI<.5&&(this.trailAngle=this.startAngle,this.animateBlur=!1)}}var M=S;class k{constructor(t){var e=t.onShowPopover,i=t.onHidePopover,r=t.container,s=t.replacePopover;this.el=L.DomUtil.create("div","",r),Object.assign(this.el.style,{position:"absolute",left:"0",top:"0",display:"none",zIndex:"11"}),this.context=L.DomUtil.create("div","",this.el),"Function"===f(s)?this.replace=s:Object.assign(this.context.style,{border:"1px solid grey",background:"rgba(255,255,255,.3)",borderRadius:"5px",padding:"8px 16px"}),Object.assign(this,{onShow:e,onHide:i})}show(t,e,i,r){var s=i.value,n=i.labels,a=this.el,o=this.replace,h=this.onShow;if(o){var l=o(t,e,i,r);a.replaceChild(l,a.children[0])}else this.context.innerText="".concat(n[0]," -> ").concat(n[1],": ").concat(s);"Function"===f(h)&&h(i,r),Object.assign(a.style,{display:"",transform:"translate(".concat(t+u,"px, ").concat(e+u,"px)")})}hide(t,e){var i=this.el,r=this.onHide;"Function"===f(r)&&r(t,e),i.style.display="none"}}var z=k,C=["options","container"],E=["replacePopover","onShowPopover","onHidePopover","direction","order"],D=t=>t?Object(r["default"])(Object(r["default"])({},d),t):d;class X{constructor(t){var e=t.options,i=t.container,s=n(t,C),a=e.replacePopover,o=e.onShowPopover,h=e.onHidePopover,l=e.direction,c=e.order,d=n(e,E);Object.assign(this,Object(r["default"])(Object(r["default"])({},s),{},{direction:l,container:i,order:c||!1,style:D(d),playAnimation:!0,started:!1,store:{arcs:[],pulses:[],sparks:[]}})),this.popover=new z({replacePopover:a,onShowPopover:o,onHidePopover:h,container:i}),this.context=this.canvas.getContext("2d")}setStyle(t){this.style=D(t),this.refresh()}setData(t){this.data=t,this.refresh()}refresh(){var t=this.data,e=this.direction;if(t&&0!==t.length){this.clear();var i=v(t,(t=>t.value)),r=this.popover,s=this.container,n=this.style,a=n.arcWidth,o=n.minRadius,l=n.label,c=n.maxRadius,d=h()(i,[o,c||2*o]);t.forEach(((t,n)=>{var h=t.from,u=t.to,p=t.labels,v=t.color,f=new m({startX:h[0],startY:h[1],endX:u[0],endY:u[1],labels:p,label:l,width:a,color:v}),g=d(t.value),y={x:u[0],y:u[1],dataRange:i,radius:g,maxRadius:c,container:s,index:n,data:t,popover:r};"in"===e&&(y=Object.assign(y,{x:h[0],y:h[1]}));var b=new j(y),w=new M({startX:h[0],startY:h[1],endX:u[0],endY:u[1],width:o,color:v,direction:e});this.store.arcs.push(f),this.store.pulses.push(b),this.store.sparks.push(w),this.index=0})),this.start()}}clear(){this.store.pulses.forEach((t=>t.clear())),this.store={arcs:[],pulses:[],sparks:[]},this.playAnimation=!0,this.started=!1,window.cancelAnimationFrame(this.requestAnimationId)}draw(t){var e=this.context;t.forEach((t=>t.draw(e)));for(var i=0,r=t.length;i<r;i++)t[i].draw(e)}start(){var t=this.started,e=this.store,i=this.context,r=this.canvas,s=r.width,n=r.height,a=this.order;if(!t){this.draw(e.pulses);var o=()=>{this.requestAnimationId=window.requestAnimationFrame(o),this.playAnimation&&(i.clearRect(0,0,s,n),Object.keys(e).forEach((t=>{var r=e[t];if(a&&"sparks"===t){var s=r[this.index];s.draw(i,a),180*(s.endAngle-s.trailAngle)/Math.PI<.5&&(s.trailAngle=s.startAngle,this.index<r.length-1?this.index+=1:this.index=0)}else r.forEach((t=>t.draw(i)))})))};o(),this.started=!0}}play(){this.playAnimation=!0}pause(){this.playAnimation=!1}}var Y=X,I=["from","to"];L.MigrationLayer=L.Layer.extend({initialize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;Object.assign(this,{_data:t,options:e}),this._show=!0,this.mapHandles=[]},onAdd(t){return this._map=t,this._init(),this._bindMapEvents(),this._draw(),this},onRemove(t){return this.mapHandles.forEach((e=>{var i=e.type,r=e.handle;return t.off(i,r)})),this.mapHandles=[],L.DomUtil.remove(this.container),this.migration.clear(),this},setData(t){return this._data=t,this._draw(),this},setStyle(t){return this.migration.setStyle(t),this},hide(){return this.container.style.display="none",this},show(){return this.container.style.display="",this._show=!0,this},play(){return this.migration.play(),this},pause(){return this.migration.pause(),this},_init(){var t=L.DomUtil.create("div","leaflet-ODLayer-container");this.container=t;var e=this._map.getSize(),i=e.x,r=e.y;Object.assign(t.style,{position:"absolute",width:"".concat(i,"px"),height:"".concat(r,"px")});var s=document.createElement("canvas");this.canvas=s,t.appendChild(s),this._map.getPanes().overlayPane.appendChild(t),x.init({container:t}),this.migration=new Y({canvas:s,container:t,map:this._map,data:this._convertData(),options:this.options})},_bindMapEvents(){var t=this;function e(e){var i=e.target.getZoom();i<c?t.hide():(t._show||t.show(),t.migration.play(),t._draw())}function i(){t.container.style.display="none"}function r(){t._show&&(t.container.style.display="",t._draw())}t._map.on("moveend",e),t.mapHandles.push({type:"moveend",handle:e}),t._map.on("zoomstart ",i),t.mapHandles.push({type:"zoomstart",handle:i}),t._map.on("zoomend",r),t.mapHandles.push({type:"zoomend",handle:r})},_draw(){var t=this._map.getBounds();t&&this.migration.playAnimation&&(this._resize(),this.migration.setData(this._convertData()))},_convertData(){var t=this._map,e=this._data,i=t.getBounds();if(e&&Array.isArray(e)&&e.length>0&&i){var s=e=>{var i=Object(a["default"])(e,2),r=i[0],s=i[1],n=t.latLngToContainerPoint(new L.LatLng(s,r)),o=n.x,h=n.y;return[o,h]};return e.map((t=>{var e=t.from,i=t.to,a=n(t,I);return Object(r["default"])({from:s(e),to:s(i)},a)}))}return[]},_resize(){var t=this._map.getBounds(),e=t.getNorthWest(),i=this._map.latLngToContainerPoint(e),r=i.y;this.container.style.top=r>0?"".concat(-r,"px"):"0px";var s=window.getComputedStyle(this._map.getContainer());this.canvas.setAttribute("width",parseInt(s.width,10)),this.canvas.setAttribute("height",parseInt(s.height,10));var n=this._map.latLngToLayerPoint(e);L.DomUtil.setPosition(this.container,n)}}),L.migrationLayer=function(t,e){return new L.MigrationLayer(t,e)}}}]);